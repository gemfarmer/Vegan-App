// Generated by CoffeeScript 1.6.3
(function() {
  var socket;

  socket = io.connect();

  $(function() {
    var $shareForm;
    $shareForm = $('#share-form');
    return socket.on('connect', function() {
      console.log("socket connected in share client");
      $(document).on('click', '#add-input-field', function(e) {
        var inputField, inputFieldContainer, inputQty, inputTextArea, inputUnits, removeFieldButton, sizingDiv;
        e.preventDefault();
        inputFieldContainer = "<div class='form-group substitute-inputs current'></div>";
        removeFieldButton = "<button class='btn col-xs-2 remove-input-field'>-</button>";
        sizingDiv = "<div class='substitute-field col-xs-10'></div>";
        inputField = "<input class='form-control add' type='text' name='vegan-substitute' placeholder='Vegan Substitute'></input>";
        inputTextArea = "<textarea class='form-control' type='text' name='substitute-description' placeholder='Notes'></textarea>";
        inputQty = "<input class ='form-control' type='text' name='substitute-qty' placeholder='Quantity'></input>";
        inputUnits = "<input class='form-control' type='text' name='substitute-units' placeholder='Units'></input>";
        $('#substitutes-repo').append(inputFieldContainer);
        $('.current').append(sizingDiv + removeFieldButton);
        $('.substitute-field').append(inputField + inputTextArea + inputQty + inputUnits);
        $('.substitute-field').removeClass('substitute-field');
        return $('.current').removeClass('current');
      });
      $(document).on('click', '.remove-input-field', function(e) {
        e.preventDefault();
        return $(this).parent('.substitute-inputs').remove();
      });
      return $shareForm.on('click', '#submit-substitute', function(e) {
        var formData;
        e.preventDefault();
        console.log($(this));
        formData = $shareForm.serialize();
        console.log("hey", formData);
        return socket.emit('substitute-form', formData);
      });
    });
  });

}).call(this);
